<script>
export default {
  data () {
    return {
      visibleDropdown: false
    }
  },

  computed: {
    currentLanguageName () {
      switch (this.$i18n.locale) {
        case 'ru':
          return 'ğŸ‡·ğŸ‡º Russian - Ğ ÑƒÑÑĞºĞ¸Ğ¹'
        default:
          return 'ğŸ‡ºğŸ‡¸ English - ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹'
      }
    }
  },

  methods: {
    changeLang (lang) {
      this.visibleDropdown = false
      this.$store.dispatch('lang/setLang', lang)
    },

    onClickOpener () {
      this.visibleDropdown = !this.visibleDropdown
    }
  }
}
</script>

<template lang="pug">
div
  SharedContextMenu(
    :position="{ left: true, top: true }"
    :visible="visibleDropdown"
    @onClickOpener="onClickOpener"
  )

    template(slot="opener")
      SharedDropdown(
        :active="visibleDropdown"
        :title="currentLanguageName"
      )
    template(slot="content")
      SharedContextMenuItem(
        title="ğŸ‡·ğŸ‡º Russian - Ğ ÑƒÑÑĞºĞ¸Ğ¹ (ĞĞµ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹)"
        @onClick="changeLang('ru')")
      .context-menu-sep
      SharedContextMenuItem(
        title="ğŸ‡ºğŸ‡¸ English - ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹"
        @onClick="changeLang('en')")
</template>

<style lang="stylus" scoped>

</style>
